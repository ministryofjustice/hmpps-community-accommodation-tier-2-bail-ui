{% extends "./_health-needs-screen.njk" %}
{% set pageName = "other-health" %}

{% block questions %}

  {% set healthConditionFollowUp %}
    {{
      formPageTextArea(
        {
          fieldName: 'healthConditionDetail',
          label: {
            text: page.questions.healthConditionDetail.question,
            classes: "govuk-label--s"
          }
        },
        fetchContext()
      )
    }}
  {% endset %}

  {% set seizuresFollowUp %}
    {{
      formPageTextArea(
        {
          fieldName: 'seizuresDetail',
          label: {
            text: page.questions.seizuresDetail.question,
            classes: "govuk-label--s"
          }
        },
        fetchContext()
      )
    }}
  {% endset %}

  {% set otherHealthNeedsFollowUp %}
    {{
      formPageTextArea(
        {
          fieldName: 'otherHealthNeedsDetail',
          label: {
            text: page.questions.otherHealthNeedsDetail.question,
            classes: "govuk-label--s"
          }
        },
        fetchContext()
      )
    }}
  {% endset %}

  <p class="govuk-hint govuk-!-margin-bottom-6">These could be any other health needs that are relevant to the support the applicant might need when living in shared accommodation.</p>

  {{
    formPageRadios(
      {
        fieldName: "hasLongTermHealthCondition",
        hint: {
            text: page.questions.hasLongTermHealthCondition.hint
        },
        fieldset: {
          legend: {
            text: page.questions.hasLongTermHealthCondition.question,
            classes: "govuk-fieldset__legend--m"
          }
        },
        items: [
          {
            value: "yes",
            text: "Yes",
            conditional: {
              html: healthConditionFollowUp
            }
          },
          {
            value: "no",
            text: "No"
          }
        ]
      },
      fetchContext()
    )
  }}

  {{
    formPageRadios(
      {
        fieldName: "hasSeizures",
        fieldset: {
          legend: {
            text: page.questions.hasSeizures.question,
            classes: "govuk-fieldset__legend--m"
          }
        },
        items: [
          {
            value: "yes",
            text: "Yes",
            conditional: {
              html: seizuresFollowUp
            }
          },
          {
            value: "no",
            text: "No"
          }
        ]
      },
      fetchContext()
    )
  }}

  {{
    formPageRadios(
      {
        fieldName: "hasHadStroke",
        fieldset: {
          legend: {
            text: page.questions.hasHadStroke.question,
            classes: "govuk-fieldset__legend--m"
          }
        },
        items: [
          {
            value: "yes",
            text: "Yes"
          },
          {
            value: "no",
            text: "No"
          }
        ]
      },
      fetchContext()
    )
  }}

  {{
    formPageRadios(
      {
        fieldName: "beingTreatedForCancer",
        fieldset: {
          legend: {
            text: page.questions.beingTreatedForCancer.question,
            classes: "govuk-fieldset__legend--m"
          }
        },
        items: [
          {
            value: "yes",
            text: "Yes"
          },
          {
            value: "no",
            text: "No"
          }
        ]
      },
      fetchContext()
    )
  }}

  {{
    formPageRadios(
      {
        fieldName: "otherHealthNeeds",
        hint: {
          text: page.questions.otherHealthNeeds.hint
        },
        fieldset: {
          legend: {
            text: page.questions.otherHealthNeeds.question,
            classes: "govuk-fieldset__legend--m"
          }
        },
        items: [
          {
            value: "yes",
            text: "Yes",
            conditional: {
              html: otherHealthNeedsFollowUp
            }
          },
          {
            value: "no",
            text: "No"
          }
        ]
      },
      fetchContext()
    )
  }}

{% endblock %}
